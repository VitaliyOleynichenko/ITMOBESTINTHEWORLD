Описание логики процесса расчёта длины ручья МНЛЗИсходные данные:

Сигнал 1: «Длина слитка при разливке и выводе отлитой заготовки» — монотонно растущая величина, которая отражает текущую длину слитка с момента начала литья. Значение никогда не уменьшается.

Сигнал 2: «Позиция в мм» — позиция газовой горелки, которая режет слиток.

Сигнал 3: «Факт рез (по энкодеру)» — длина, зафиксированная энкодером в момент реза.

Логика процесса:

Отслеживание длины слитка:
Значение «Длина слитка» постоянно увеличивается в процессе литья.

Мониторинг сигнала «Позиция в мм» газовой горелки:

Если позиция горелки растёт, это означает, что горелка движется вместе со слитком и происходит процесс резки.

Если позиция горелки начинает уменьшаться, значит резка завершена, и горелка возвращается в исходную позицию.

Определение момента окончания реза:
Момент, когда «Позиция в мм» начинает уменьшаться, фиксируется как событие завершения реза.

Расчёт длины ручья:
В момент начала уменьшения «Позиции в мм» берётся текущее значение «Длина слитка» (обозначим его L_общ) и из него вычитается значение «Факт рез (по энкодеру)» (обозначим его L_рез):

Lручья=Lобщ−LрезLручья=Lобщ−L
